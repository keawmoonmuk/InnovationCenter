2020-10-12T09:16:04.6405055+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T09:16:04.8954092+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T09:16:05.6676865+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T09:16:05.6720490+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T09:16:05.6793075+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T09:16:35.5111153+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:16:35.6584224+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:17:05.7130879+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:17:05.7331859+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:17:35.7808105+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:17:35.8062946+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:18:05.8396214+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:18:05.8721404+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:18:35.8988038+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:18:35.9116845+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:19:05.9544800+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:19:05.9688097+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:19:36.0095914+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:19:36.0209176+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:20:06.0602811+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:20:06.0840832+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:20:36.1535633+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:20:36.1645377+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:21:06.1933118+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:21:06.2040492+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:21:29.2003005+07:00 80000007-0002-f900-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T09:21:33.6226196+07:00 80000006-0003-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T09:21:33.7188895+07:00 80000009-0002-f900-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T09:21:36.2409219+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:21:36.2517391+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:21:36.2706184+07:00 80000009-0002-f900-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T09:21:36.6441245+07:00 80000009-0002-f900-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T09:22:06.3211750+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:22:06.3839930+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:22:36.4443387+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:22:36.4688017+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:23:06.5075735+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:23:06.5190341+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:23:36.5655826+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:23:36.5950910+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:24:06.6459552+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:24:06.6549903+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:24:36.6693444+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:24:36.6903020+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:25:06.7117764+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:25:06.7464830+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:25:36.7937134+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:25:36.8167939+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:26:06.8525881+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:26:06.8744782+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:26:36.8970113+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:26:36.9058138+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:27:06.9487139+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:27:06.9584087+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:27:37.0032099+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:27:37.0300821+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:28:07.0644627+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:28:07.0731108+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:28:37.1397682+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:28:37.1505261+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:29:07.1742762+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:29:07.1908435+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:29:37.2122525+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:29:37.2448382+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:30:07.2645945+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:30:07.2785326+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:30:37.3312347+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:30:37.3473517+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:31:07.4022677+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:31:07.4243895+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:31:31.9678307+07:00 80000002-0003-f400-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 203
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 203
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T09:31:33.1238543+07:00 80000002-0003-f400-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 203
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T09:31:37.4390968+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:31:37.4511905+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:32:07.4787137+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:32:07.4865809+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:32:37.5064701+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:32:37.5135797+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:33:07.5435725+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:33:07.5620186+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:33:37.5913823+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:33:37.6134304+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:34:07.6244022+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:34:07.6333969+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:34:37.6453247+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:34:37.6547729+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:35:07.6725947+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:35:07.6815055+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:35:37.7126634+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:35:37.7222595+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:36:07.7558739+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:36:07.7779654+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:36:37.8052873+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:36:37.8165821+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:37:07.8388621+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:37:07.8498160+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:37:37.8677759+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:37:37.8758702+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:38:07.9142160+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:38:07.9341652+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:38:37.9614559+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:38:37.9859200+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:39:08.0116523+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:39:08.0238756+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:39:38.0454530+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:39:38.0548548+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:40:08.0753810+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:40:08.0992223+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:40:38.1465914+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:40:38.1559859+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:41:08.1905554+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:41:08.2116634+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:41:38.2323742+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:41:38.2407266+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:42:08.2516166+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:42:08.2589487+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:42:38.3050075+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:42:38.3131063+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:43:08.3483403+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:43:08.3566622+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:58:25.8588693+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T09:58:25.9122998+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T09:58:26.2766656+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T09:58:26.2794566+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T09:58:26.3005020+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T09:58:56.0131267+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:58:56.0598335+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:59:26.2717816+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:59:26.3136071+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T09:59:56.4187508+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T09:59:56.4394997+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:00:26.4715697+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:00:26.4886455+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:00:31.5881532+07:00 80000027-0002-f900-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T10:00:32.8770834+07:00 8000000a-0001-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T10:00:32.9951810+07:00 80000003-0003-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T10:00:33.9393871+07:00 80000003-0003-f500-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T10:00:34.0034100+07:00 80000003-0003-f500-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T10:00:56.5434037+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:00:56.5556230+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:01:26.5890591+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:01:26.6114901+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:01:49.4596481+07:00 8000000d-0000-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T10:01:49.9809865+07:00 8000000d-0000-f600-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T10:01:56.6385507+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:01:56.6520653+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:02:19.6365017+07:00 8000000f-0000-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T10:02:19.8137420+07:00 8000000f-0000-f600-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T10:02:26.6824596+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:02:26.6929387+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:02:56.7227584+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:02:56.7360631+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:03:26.7771259+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:03:26.8014501+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:03:56.8875811+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:03:56.9148795+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:04:26.9485048+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:04:26.9623481+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:04:56.9947101+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:04:57.0162144+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:05:27.0388222+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:05:27.0491340+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:05:57.0883467+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:05:57.1150105+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:06:27.1562212+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:06:27.1788921+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:06:57.2055088+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:06:57.2145865+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:07:27.2357113+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:07:27.2464297+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:07:57.2707905+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:07:57.2808158+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:08:27.3288907+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:08:27.3528459+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:08:57.4054310+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:08:57.4228194+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:09:27.4329511+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:09:27.4397975+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:18:29.0801127+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T10:18:29.1324305+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T10:18:29.5787186+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T10:18:29.5860361+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T10:18:29.6901837+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T10:18:59.2737798+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:18:59.3003601+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:19:29.3619780+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:19:29.3751617+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:19:55.8194140+07:00 80000008-0002-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T10:19:57.0580236+07:00 8000001e-0000-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T10:19:57.1178164+07:00 80000020-0000-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T10:19:58.2753614+07:00 80000020-0000-f600-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T10:19:58.3653600+07:00 80000020-0000-f600-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T10:19:59.4320757+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:19:59.7170413+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:20:29.7528722+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:20:29.7960069+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:20:59.8141055+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:20:59.8367013+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:21:29.8741181+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:21:29.8909686+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:21:59.9382360+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:21:59.9521755+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:22:29.9924388+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:22:30.0128726+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:23:00.0688764+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:23:00.0955755+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:24:02.1556001+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T10:24:02.2225511+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T10:24:02.6562653+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T10:24:02.6595338+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T10:24:02.6752704+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T10:24:32.4421156+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:24:32.4878526+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:25:02.5338483+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:25:02.5444809+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:25:21.7596930+07:00 80000012-0003-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T10:25:22.8982688+07:00 80000014-0003-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T10:25:22.9583270+07:00 80000006-0000-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T10:25:24.4897299+07:00 80000006-0000-f400-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T10:25:24.5688873+07:00 80000006-0000-f400-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T10:25:32.5713672+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:25:32.5869195+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:25:53.4659568+07:00 80000017-0002-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T10:25:53.9377820+07:00 80000017-0002-f600-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T10:26:56.5148838+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T10:26:56.5574449+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T10:26:56.9049261+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T10:26:56.9399565+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T10:26:56.9592643+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T10:27:26.7769389+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:27:26.8097198+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:27:56.8900472+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:27:56.9485883+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:28:23.3824092+07:00 8000001a-0003-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T10:28:24.5372105+07:00 80000014-0000-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T10:28:24.6293056+07:00 8000001f-0001-fb00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T10:28:26.5147069+07:00 8000001f-0001-fb00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T10:28:26.5972708+07:00 8000001f-0001-fb00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T10:28:26.9739351+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:28:26.9851218+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:28:57.0281874+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:28:57.0530866+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:29:04.3487702+07:00 80000040-0002-f800-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T10:29:04.9441875+07:00 80000040-0002-f800-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T10:29:27.0846516+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:29:27.0984204+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:29:57.1629407+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:29:57.1725295+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:31:42.4691115+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T10:31:42.5160613+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T10:31:42.8933564+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T10:31:42.9189509+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T10:31:42.9251265+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T10:32:12.8797084+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:32:13.1538060+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:32:43.1937617+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:32:43.2157449+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:33:13.2547854+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:33:13.2653395+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:33:30.3605503+07:00 80000068-0001-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T10:33:31.6059030+07:00 80000034-0000-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T10:33:31.6995542+07:00 80000036-0000-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T10:33:33.7231107+07:00 80000036-0000-f600-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T10:33:33.8112236+07:00 80000036-0000-f600-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T10:33:43.2856844+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:33:43.2948730+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:33:56.7293418+07:00 80000022-0000-f500-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T10:33:57.0047986+07:00 80000022-0000-f500-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T10:34:13.3653180+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:34:13.3788735+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:41:36.5502551+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T10:41:36.6080142+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T10:41:36.9399777+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T10:41:36.9438272+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T10:41:36.9668608+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T10:42:06.9598378+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:42:07.0206138+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:42:37.0581372+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:42:37.0919177+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:43:07.1198852+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:43:07.1358511+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:43:16.5847945+07:00 8000001c-0003-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T10:43:17.6351004+07:00 8000001e-0003-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T10:43:17.7181000+07:00 80000022-0002-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T10:43:18.9160090+07:00 80000022-0002-f600-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T10:43:19.2709066+07:00 80000022-0002-f600-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T10:43:37.9194386+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:43:37.9277455+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:44:07.9871634+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:44:08.0119762+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:44:38.0391091+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:44:38.0567997+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:45:08.0994550+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:45:08.1270561+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:45:38.1592135+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:45:38.1721725+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:46:08.2066851+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:46:08.2718542+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:46:38.3152249+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:46:38.3241423+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:47:08.3574834+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:47:08.3674441+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:47:38.3891702+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:47:38.4234951+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T10:48:08.4542726+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T10:48:08.4652130+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:02:29.9600459+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T11:02:30.0034062+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T11:02:30.3475961+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T11:02:30.3689429+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T11:02:30.3716875+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T11:03:00.2187317+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:03:00.2645984+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:03:30.3164081+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:03:30.3282944+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:04:00.3570566+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:04:00.3707416+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:04:30.4135276+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:04:30.4357320+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:05:00.4671538+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:05:00.4897028+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:05:30.5397483+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:05:30.5690820+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:06:00.6070694+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:06:00.6275646+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:06:30.6402613+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:06:30.6516845+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:07:00.6943704+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:07:00.7034673+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:07:30.7638397+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:07:30.7725768+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:08:04.5776849+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:08:04.5907690+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:08:34.6120473+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:08:34.6209796+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:09:04.6472934+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:09:04.6561992+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:09:34.7151267+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:09:34.7684807+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:10:04.8011710+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:10:04.8243021+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:10:34.8531303+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:10:34.8636261+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:11:04.8901170+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:11:04.8994896+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:11:34.9245244+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:11:34.9351527+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:12:04.9556834+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:12:04.9717019+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:12:35.0090945+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:12:35.0168842+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:13:05.0620519+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:13:05.0898789+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:13:35.1227806+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:13:35.1315293+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:14:05.1545256+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:14:05.1787046+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:14:35.2161650+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:14:35.2245003+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:15:05.2688561+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:15:05.2763893+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:15:35.3166526+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:15:35.3264472+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:16:05.3594494+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:16:05.3883594+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:16:35.4132576+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:16:35.4390978+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:17:05.4693446+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:17:05.4914947+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:17:35.5184303+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:17:35.5277801+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:18:05.5689663+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:18:05.5829274+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:18:14.8883760+07:00 80000004-0002-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T11:18:19.6598532+07:00 8000003f-0001-f900-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T11:18:19.7523698+07:00 80000006-0002-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T11:18:21.1839318+07:00 80000006-0002-f400-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T11:18:21.2924672+07:00 80000006-0002-f400-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T11:18:35.5968886+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:18:35.6210998+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:19:05.6869626+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:19:05.6976037+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:19:39.3346714+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:19:39.3587403+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:19:39.8377919+07:00 8000000a-0000-f200-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 203
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 203
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T11:19:40.2759402+07:00 8000000a-0000-f200-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 203
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 34
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T11:20:09.4089631+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:20:09.4262980+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:20:39.4686245+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:20:39.4776201+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:21:09.4999468+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:21:09.5114876+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:21:39.5414962+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:21:39.5513257+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:22:09.6059516+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:22:09.6146945+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:22:39.6570493+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:22:39.6660565+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:23:09.6790013+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:23:09.6888900+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:23:39.7170373+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:23:39.7262297+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:24:09.7403608+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:24:09.7498595+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:24:39.7631782+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:24:39.7704678+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:25:09.8066553+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:25:09.8243385+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:25:39.8567929+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:25:39.8706897+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:26:09.8929961+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:26:09.9021159+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:26:39.9370393+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:26:39.9587328+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:33:50.0258675+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T11:33:50.0700516+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T11:33:50.4606276+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T11:33:50.4826567+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T11:33:50.4896828+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T11:34:20.2379309+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:34:20.4580386+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:34:50.5081941+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:34:50.5168048+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:35:20.5914603+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:35:20.6133078+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:35:50.6711077+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:35:50.6903820+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:36:20.7262476+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:36:20.7350113+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:36:50.7685992+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:36:50.7797436+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:37:20.8506007+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:37:20.8610337+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:37:50.9102486+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:37:50.9437342+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:38:20.9736307+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:38:20.9903083+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:38:50.9543086+07:00 8000000f-0000-f900-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.TimeoutException: The Angular CLI process did not start listening for requests within the timeout period of 0 seconds. Check the log output for error information.
   at Microsoft.AspNetCore.SpaServices.Extensions.Util.TaskTimeoutExtensions.WithTimeout[T](Task`1 task, TimeSpan timeoutDelay, String message)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T11:38:51.0811828+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:38:51.1041779+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:39:46.1762970+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T11:39:46.2431134+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T11:39:46.8310379+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T11:39:46.8401726+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T11:39:46.8600309+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T11:40:16.4392679+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:40:16.4694309+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:40:46.5176338+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:40:46.5836659+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:41:16.6156562+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:41:16.6299807+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:41:39.0234029+07:00 8000004e-0000-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T11:41:42.2097415+07:00 80000050-0000-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T11:41:42.5977575+07:00 80000025-0002-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T11:41:45.0278468+07:00 80000025-0002-f500-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T11:41:45.1312610+07:00 80000025-0002-f500-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T11:41:46.8975399+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:41:46.9592490+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:42:17.0235633+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:42:17.0483693+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:42:47.0926999+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:42:47.1252749+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:44:03.8087665+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:44:03.8212979+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:44:04.9268623+07:00 8000002e-0003-f400-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 39
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T11:48:36.4005654+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T11:48:36.4461608+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T11:48:36.7986863+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T11:48:36.8045602+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T11:48:36.8240880+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T11:49:06.5971194+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:49:06.6347230+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:49:36.7028527+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:49:36.7595509+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:50:06.7853728+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:50:06.7998961+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:50:11.1782443+07:00 8000004c-0003-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-12T11:50:12.4083649+07:00 8000004e-0003-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-12T11:50:12.5520157+07:00 80000050-0003-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-12T11:50:13.7107577+07:00 80000050-0003-f700-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-12T11:50:13.7918855+07:00 80000050-0003-f700-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-12T11:50:36.8356773+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:50:36.8494373+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:51:06.8832910+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:51:06.9079648+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:51:41.6489968+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:51:41.6749825+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:51:42.3581456+07:00 800000c8-0001-f800-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-12T11:51:43.0081314+07:00 800000c8-0001-f800-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetPatient() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 34
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-12T11:52:11.6992631+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:52:11.7378280+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:52:41.7589388+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:52:41.7703585+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:53:11.8008365+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:53:11.8156410+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:53:41.8354063+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:53:41.8503487+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T11:54:11.8751183+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T11:54:11.9175328+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T15:56:28.4580903+07:00  [ERR] An error occurred using the connection to database '""' on server '"localhost"'. (5fc3407c)
2020-10-12T15:56:31.2221380+07:00  [FTL] Error whilst creating and seeding database (944fb156)
System.AggregateException: One or more errors occurred. (An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.)
 ---> System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 442
   at MySql.Data.MySqlClient.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Nullable`1 ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlConnection.cs:line 657
   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlConnection.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at DAL.DatabaseInitializer.SeedAsync() in D:\CmsApp\DAL\DatabaseInitializer.cs:line 48
   at CmsApp.AppDbInitializer.SeedAsync() in D:\CmsApp\CmsApp\AppDbInitializer.cs:line 46
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at CmsApp.Program.Main(String[] args) in D:\CmsApp\CmsApp\Program.cs:line 35
2020-10-12T16:10:37.6664386+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T16:10:37.7554367+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T16:10:39.4489781+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T16:10:39.4559412+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T16:10:39.4599213+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T16:11:07.3171193+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:11:07.4085340+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:11:37.5010439+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:11:37.5264800+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:12:07.5440173+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:12:07.5683834+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:12:37.6109375+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:12:37.6361864+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:13:07.6990597+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:13:07.7208084+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:13:37.7803532+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:13:37.7991935+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:14:07.8201629+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:14:07.8448701+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:14:37.9296406+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:14:37.9973785+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:19:02.5149314+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T16:19:02.5895432+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T16:19:03.2275880+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T16:19:03.2334760+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T16:19:03.2411238+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T16:19:32.6262784+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:19:32.6596507+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:20:02.7015024+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:20:02.7351975+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:20:32.8107896+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:20:32.8401740+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:21:02.8630315+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:21:02.9064150+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:28:43.8774245+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T16:28:43.9393715+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T16:28:44.3845973+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T16:28:44.3870984+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T16:28:44.4099504+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T16:29:14.1416367+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:29:14.2043044+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:29:44.2473959+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:29:44.2703389+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:30:14.2935839+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:30:14.3067204+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:30:49.0422445+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:30:49.0513943+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:31:51.7943747+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:31:51.8295857+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:40:57.4855039+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T16:40:57.5136643+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T16:41:00.3065112+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T16:41:00.3102883+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T16:41:00.3145538+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T16:41:27.1157115+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:41:27.1486804+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:41:57.2056665+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:41:57.2295034+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:42:27.2803913+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:42:27.3025407+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:42:57.3544820+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:42:57.3755006+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:43:27.5516298+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:43:27.5790344+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:43:57.6498768+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:43:57.6682461+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:46:10.0500074+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-12T16:46:10.1621473+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-12T16:46:13.9929931+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-12T16:46:13.9994441+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-12T16:46:14.0024574+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-12T16:46:40.0089162+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:46:40.0924903+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:47:10.1279953+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:47:10.1599336+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:47:40.2059021+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:47:40.2594586+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:48:10.3008554+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:48:10.3169331+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:48:40.5155951+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:48:40.5445267+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:49:10.5904217+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:49:10.6363599+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:49:40.6967458+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:49:40.7180347+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:50:10.7551512+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:50:10.7689726+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:50:46.4764907+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:50:46.4853745+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:52:03.1809345+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:52:03.1944319+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:52:35.4357582+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:52:35.5523584+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:53:21.1249892+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:53:21.1312272+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-12T16:57:54.3988245+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-12T16:57:54.4388519+07:00  [INF] Removing 0 device flow codes (171ba47d)
