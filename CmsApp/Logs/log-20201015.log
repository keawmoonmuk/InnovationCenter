2020-10-15T09:09:32.5749079+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T09:09:32.6398859+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T09:09:34.6389689+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T09:09:34.6425741+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T09:09:34.6479512+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T09:10:02.3076579+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:10:02.3620900+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:10:32.4338332+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:10:32.4444283+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:11:02.4955988+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:11:02.5271763+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:11:32.5694523+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:11:32.5839297+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:12:02.6182876+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:12:02.6628602+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:12:32.6958944+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:12:32.7176446+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:13:02.7587985+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:13:02.7677896+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:13:32.8467299+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:13:32.8713120+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:14:02.9249541+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:14:02.9466029+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:14:32.9689648+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:14:32.9804433+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:14:49.3934371+07:00 8000001a-0002-fb00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T09:14:52.2310087+07:00 80000011-0001-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T09:14:52.2839103+07:00 80000013-0001-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T09:14:53.6038237+07:00 80000013-0001-f400-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T09:14:53.6769681+07:00 80000013-0001-f400-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T09:15:03.0199286+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:15:03.0468350+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:15:33.0762761+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:15:33.0993361+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:16:03.1313621+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:16:03.1532012+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:16:36.7405130+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:16:36.7604211+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:16:42.1227855+07:00 80000008-0000-f200-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T09:16:43.3560522+07:00 80000008-0000-f200-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpateint() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T09:17:06.7891913+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:17:06.8104898+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:17:24.2693056+07:00 80000007-0003-f900-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T09:17:24.4107912+07:00 80000007-0003-f900-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T09:17:24.4155556+07:00 80000007-0003-f900-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "swaggerui", ClientName: "Swagger UI", GrantType: "password", Scopes: "quickapp_api", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "swaggerui"), ("client_secret": "***REDACTED***")] } (3a073258)
2020-10-15T09:17:30.8892419+07:00 80000015-0000-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T09:17:31.0971230+07:00 80000015-0000-f600-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpateint() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T09:17:36.8331904+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:17:36.8439407+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:43:33.1716423+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T09:43:33.3980701+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T09:43:34.6742451+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T09:43:34.6814843+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T09:43:34.6867058+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T09:44:03.2791501+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:44:03.3947859+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:44:33.4189435+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:44:33.4277578+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:45:03.4751658+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:45:03.5041579+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:45:33.6542525+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:45:33.7043359+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:46:03.7427648+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:46:03.7573895+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:46:33.8299409+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:46:33.8556911+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:47:04.2131620+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:47:04.3104013+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:47:34.3668389+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:47:34.3930887+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:47:54.9356183+07:00 80000021-0001-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T09:47:57.2876526+07:00 80000008-0002-f900-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T09:47:57.4225582+07:00 8000003f-0003-fb00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T09:47:58.8016652+07:00 8000003f-0003-fb00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T09:47:58.8884389+07:00 8000003f-0003-fb00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T09:48:04.4106334+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:48:04.4266622+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:48:34.4475334+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:48:34.4625543+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:49:04.4886865+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:49:04.5187446+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:49:34.5572577+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:49:34.5906280+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:49:40.4979042+07:00 8000002b-0001-f600-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T09:49:40.7146991+07:00 8000002b-0001-f600-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T09:49:40.7209871+07:00 8000002b-0001-f600-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "swaggerui", ClientName: "Swagger UI", GrantType: "password", Scopes: "quickapp_api", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "kreangkrai"), ("password": "***REDACTED***")] } (3a073258)
2020-10-15T09:50:11.4900544+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T09:50:11.9920675+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T09:50:13.1705002+07:00 80000025-0000-f400-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.String' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T09:51:53.2572225+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:36:37.0823261+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T10:36:37.1410848+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T10:36:38.0355043+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T10:36:38.0540629+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T10:36:38.0567261+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T10:37:07.0346838+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:37:07.0931435+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:37:37.1435935+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:37:37.1537257+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:38:07.1751849+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:38:07.1905875+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:38:37.2161798+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:38:37.2427275+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:39:07.2850205+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:39:07.3042831+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:39:37.3552100+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:39:37.3925399+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:40:07.4218078+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:40:07.4478226+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:40:37.4987474+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:40:37.5074567+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:41:07.5885657+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:41:07.6133314+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:41:37.6549916+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:41:37.6767891+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:41:39.6159734+07:00 8000001c-0002-f400-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.TimeoutException: The Angular CLI process did not start listening for requests within the timeout period of 0 seconds. Check the log output for error information.
   at Microsoft.AspNetCore.SpaServices.Extensions.Util.TaskTimeoutExtensions.WithTimeout[T](Task`1 task, TimeSpan timeoutDelay, String message)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T10:42:07.7041200+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:42:07.7260422+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:42:37.7773961+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:42:37.7963809+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:43:11.4731915+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T10:43:11.5195981+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T10:43:11.8737491+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T10:43:11.9131160+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T10:43:11.9169247+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T10:43:42.0708685+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:43:42.1400482+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:44:12.5767851+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:44:12.5853382+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:44:42.6217738+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:44:42.6458153+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:45:12.7011046+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:45:12.7789122+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:45:42.8369140+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:45:42.8780368+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:46:12.9301082+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:46:12.9778130+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:46:43.0144724+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:46:43.0259667+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:47:13.0732057+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:47:13.1120167+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:47:43.1349754+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:47:43.1525848+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:48:13.3809589+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:48:14.0203805+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:48:14.4848159+07:00 80000012-0000-ec00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.TimeoutException: The Angular CLI process did not start listening for requests within the timeout period of 0 seconds. Check the log output for error information.
   at Microsoft.AspNetCore.SpaServices.Extensions.Util.TaskTimeoutExtensions.WithTimeout[T](Task`1 task, TimeSpan timeoutDelay, String message)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T10:48:44.0863297+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:48:44.1033113+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:58:24.6476486+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T10:58:24.9940433+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T10:58:27.2197826+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T10:58:27.2441196+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T10:58:27.2472615+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T10:58:54.4205039+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:58:54.5121044+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:59:24.6119044+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:59:24.6332045+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T10:59:54.6811060+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T10:59:54.7113764+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:00:24.7546202+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:00:24.7774881+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:00:54.8144315+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:00:54.8311070+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:01:24.8742708+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:01:24.8964863+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:01:54.9354512+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:01:54.9453307+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:02:24.9947237+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:02:25.0250883+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:02:55.0775674+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:02:55.1062013+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:03:25.1555743+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:03:25.4796885+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:03:38.4084066+07:00 8000004b-0001-f100-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.TimeoutException: The Angular CLI process did not start listening for requests within the timeout period of 0 seconds. Check the log output for error information.
   at Microsoft.AspNetCore.SpaServices.Extensions.Util.TaskTimeoutExtensions.WithTimeout[T](Task`1 task, TimeSpan timeoutDelay, String message)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T11:03:55.5234054+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:03:55.5466257+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:04:25.5991826+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:04:25.6089377+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:04:55.6546662+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:04:55.6610625+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:05:25.7151769+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:05:25.7419079+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:05:55.7942076+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:05:55.8155254+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:06:25.8555443+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:06:25.8667025+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:06:55.9354413+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:06:55.9757380+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:17:08.2021989+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T11:17:08.2246184+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T11:17:09.3760122+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2020-10-15T11:17:09.3762657+07:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2020-10-15T11:17:09.3766105+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T11:17:09.3766745+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T11:17:09.3767504+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T11:17:39.5403553+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:17:39.5576234+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:18:09.5840116+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:18:09.5860836+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:18:39.5951190+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:18:39.5969019+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:19:07.0067438+07:00  [INF] Application is shutting down... (90f52c38)
2020-10-15T11:19:09.6196425+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:19:09.6212385+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:19:44.4314298+07:00  [ERR] Exception removing expired grants: "Cannot access a disposed object.
Object name: 'IServiceProvider'." (79474a77)
2020-10-15T11:19:48.4606158+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T11:19:48.4848828+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T11:19:48.6879730+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2020-10-15T11:19:48.6881332+07:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2020-10-15T11:19:48.6890326+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T11:19:48.6893747+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T11:19:48.6894136+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T11:20:18.7627535+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:20:18.7851421+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:20:48.8126148+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:20:48.8146459+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:21:18.8382522+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:21:18.8441860+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:21:21.1762437+07:00  [INF] Application is shutting down... (90f52c38)
2020-10-15T11:23:22.9667162+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T11:23:23.0158902+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T11:23:24.0632421+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T11:23:24.0725037+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T11:23:24.0795392+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T11:23:52.5508598+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:23:52.5919148+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:24:22.6473186+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:24:22.7189666+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:24:52.8697768+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:24:52.9568658+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:25:23.6568509+07:00  [INF] Removing 1 grants (62cd9308)
2020-10-15T11:25:24.3036881+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:25:54.3225262+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:25:54.3351684+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:26:12.3134790+07:00 80000074-0002-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T11:26:14.2602832+07:00 8000000a-0000-ee00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T11:26:14.3943984+07:00 8000000c-0000-ee00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T11:26:15.9251362+07:00 8000000c-0000-ee00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T11:26:16.0295173+07:00 8000000c-0000-ee00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T11:26:24.3657336+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:26:24.3791007+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:26:54.4055421+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:26:54.4315276+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:27:15.3070218+07:00 8000005b-0002-fb00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T11:27:15.5102620+07:00 8000005b-0002-fb00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T11:27:15.5160476+07:00 8000005b-0002-fb00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "swaggerui", ClientName: "Swagger UI", GrantType: "password", Scopes: "quickapp_api", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "swaggerui"), ("client_secret": "***REDACTED***")] } (3a073258)
2020-10-15T11:27:24.4443163+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:27:24.4569762+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:28:21.4912105+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:28:21.4999578+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:28:22.2288412+07:00 80000020-0000-ec00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T11:28:51.5209749+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:28:51.5329411+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:50:01.3086037+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T11:50:01.3772802+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T11:50:01.8758604+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T11:50:01.8787540+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T11:50:01.8821403+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T11:50:32.0387285+07:00  [INF] Removing 1 grants (62cd9308)
2020-10-15T11:50:32.7861795+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:51:02.8321878+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:51:02.8632136+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:51:32.9139605+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:51:32.9354855+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:52:02.9931928+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:52:03.0430993+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:52:33.0928511+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:52:33.1259829+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:53:03.2131448+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:53:03.2686427+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:53:33.3128975+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:53:33.3430641+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:54:03.4125031+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:54:03.4356246+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T11:54:33.5242289+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T11:54:33.5382478+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:51:24.6667063+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T12:51:25.4137806+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T12:51:27.4927714+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T12:51:27.4971101+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T12:51:27.5008324+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T12:51:56.5964525+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:51:56.7597789+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:52:26.8681452+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:52:26.8887494+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:52:56.9336091+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:52:56.9543177+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:53:27.0104699+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:53:27.0343024+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:53:57.0797169+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:53:57.0964301+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:54:27.2345672+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:54:27.3017736+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:54:57.3315690+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:54:57.3588672+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:55:27.4195140+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:55:27.4440302+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:55:57.4974102+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:55:57.5085765+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:56:12.5284792+07:00 80000012-0001-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T12:56:14.8766284+07:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T12:56:14.9628902+07:00 80000014-0001-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T12:56:16.6320067+07:00 80000014-0001-f500-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T12:56:16.7570570+07:00 80000014-0001-f500-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T12:56:27.5367128+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:56:27.5479388+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:56:57.5874731+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:56:57.6162434+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:56:59.7124273+07:00 8000001a-0000-fb00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T12:56:59.9034254+07:00 8000001a-0000-fb00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T12:56:59.9085882+07:00 8000001a-0000-fb00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "swaggerui", ClientName: "Swagger UI", GrantType: "password", Scopes: "quickapp_api", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "kreangkrai"), ("password": "***REDACTED***")] } (3a073258)
2020-10-15T12:57:27.6556004+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:57:27.6829808+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:57:47.8184715+07:00 8000001e-0000-fb00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Lambda expression used inside Include is not valid.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.GetConsignmentNote() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T12:57:57.7364475+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:57:57.7707098+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T12:58:27.8008796+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T12:58:27.8110003+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:00:58.2079194+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T13:00:58.2611004+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T13:00:58.6687554+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T13:00:58.6724516+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T13:00:58.6761780+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T13:01:28.6204746+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:01:28.7745975+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:01:58.8077025+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:01:58.8165500+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:02:28.8743680+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:02:28.8887585+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:02:58.9183731+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:02:58.9301906+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:03:28.9668300+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:03:28.9905374+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:03:41.4794754+07:00 8000001a-0003-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T13:03:43.3121139+07:00 8000001c-0003-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T13:03:43.4515104+07:00 8000001e-0003-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T13:03:44.5532332+07:00 8000001e-0003-f700-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T13:03:44.9193228+07:00 8000001e-0003-f700-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T13:03:59.0147806+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:03:59.0254796+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:04:29.8465995+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:04:29.8865373+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:04:59.8999474+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:04:59.9109077+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:07:47.8744071+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T13:07:47.9735969+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T13:07:48.3392633+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T13:07:48.3645622+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T13:07:48.3866529+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T13:08:18.4466526+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:08:18.5035058+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:08:48.5576757+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:08:48.5772236+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:09:18.6083260+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:09:18.6477427+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:09:47.5715742+07:00 8000001f-0001-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T13:09:48.7286481+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:09:48.7585091+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:09:48.8616578+07:00 8000001a-0002-fb00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T13:09:49.0794317+07:00 80000030-0000-fd00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T13:09:50.2318170+07:00 80000030-0000-fd00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T13:09:50.3402277+07:00 80000030-0000-fd00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T13:10:18.7942763+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:10:18.8084332+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:10:48.8791695+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:10:48.8947055+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:44:20.3017349+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T13:44:20.3722969+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T13:44:20.9510919+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T13:44:20.9874515+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T13:44:21.0323454+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T13:44:50.5950907+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:44:50.6565994+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:45:20.7247482+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:45:20.7470695+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:45:50.7700026+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:45:50.7785675+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:46:20.4046898+07:00 80000024-0001-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T13:46:20.8691118+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:46:20.8842601+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:46:21.6811668+07:00 8000000d-0003-ef00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T13:46:21.7520263+07:00 80000012-0002-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T13:46:22.7415439+07:00 80000012-0002-f800-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T13:46:22.8096204+07:00 80000012-0002-f800-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T13:46:50.9314904+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:46:50.9971453+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:46:51.4792327+07:00 80000011-0002-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T13:46:51.8321764+07:00 80000011-0002-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T13:47:04.3250206+07:00 80000013-0002-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T13:47:04.4791418+07:00 80000013-0002-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T13:47:21.0181472+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:47:21.0303627+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:47:31.7957212+07:00 80000008-0003-ec00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T13:47:31.9481346+07:00 80000008-0003-ec00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T13:47:31.9538028+07:00 80000008-0003-ec00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "swaggerui", ClientName: "Swagger UI", GrantType: "password", Scopes: "quickapp_api", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "swaggerui"), ("client_secret": "***REDACTED***")] } (3a073258)
2020-10-15T13:47:37.2296808+07:00 8000004e-0001-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T13:47:37.3709997+07:00 8000004e-0001-f600-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T13:47:41.6318258+07:00 80000015-0002-ff00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T13:47:41.8248524+07:00 80000015-0002-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T13:47:51.0636662+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:47:51.0825701+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:48:21.1081593+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:48:21.1167026+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:48:51.1371598+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:48:51.1508553+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:49:21.2320121+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:49:21.3422476+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:49:21.6092709+07:00 80000012-0003-ef00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T13:49:21.9972456+07:00 80000012-0003-ef00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.
   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 344
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 272
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T13:49:51.3929885+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:49:51.4224027+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:50:21.4745693+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:50:21.4968941+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T13:50:51.5123324+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T13:50:51.5274551+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:42:58.6941417+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T14:42:58.7583540+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T14:43:00.6756941+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T14:43:00.6792376+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T14:43:00.6823687+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T14:43:29.4351954+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:43:29.5202083+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:43:59.5610947+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:43:59.6193575+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:44:29.7162640+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:44:29.7438651+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:44:59.8420055+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:44:59.9018330+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:45:29.9247521+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:45:29.9622542+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:45:59.9839537+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:45:59.9961046+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:46:15.9299972+07:00 8000002b-0000-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T14:46:18.2906178+07:00 8000002b-0000-f700-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T14:46:18.5981858+07:00 8000002b-0000-f700-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "swaggerui", ClientName: "Swagger UI", GrantType: "password", Scopes: "quickapp_api", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "swaggerui"), ("client_secret": "***REDACTED***")] } (3a073258)
2020-10-15T14:46:28.1756106+07:00 80000002-0001-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T14:46:28.6106255+07:00 80000003-0001-f400-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T14:46:30.0174940+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:46:30.0280413+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:47:04.0618828+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:47:04.4594593+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:47:05.1976107+07:00 80000021-0002-fb00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T14:47:05.9941227+07:00 80000021-0002-fb00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T14:47:34.5315803+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:47:34.5582050+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:48:04.5995500+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:48:04.6278400+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:48:34.6970136+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:48:34.7253521+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:49:04.7425217+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:49:04.7517616+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:49:34.7773889+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:49:34.7880035+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:50:04.8149767+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T14:50:04.8260560+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T14:50:15.2085616+07:00 8000002b-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T14:50:15.4035477+07:00 8000002b-0002-f900-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T14:50:19.1854342+07:00 80000051-0001-f600-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T14:50:19.4212227+07:00 80000051-0001-f600-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T14:50:26.4570910+07:00 8000002d-0002-f900-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"DAL.ApplicationDbContext"'."
""System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-10-15T14:50:26.6119498+07:00 8000002d-0002-f900-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.Int32'.
   at MySqlConnector.Core.Row.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\Core\Row.cs:line 223
   at MySql.Data.MySqlClient.MySqlDataReader.GetInt32(Int32 ordinal) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 232
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CmsApp.Controllers.PatientsController.Getpatinet() in D:\CmsApp\CmsApp\Controllers\PatientsController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-10-15T15:03:58.2469447+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T15:03:58.3271980+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T15:03:58.9203704+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T15:03:58.9507135+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T15:03:58.9533335+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T15:04:28.7192270+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:04:28.7699033+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:04:58.8178773+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:04:58.8448846+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:05:28.8907574+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:05:28.9091245+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:05:58.9437264+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:05:58.9537998+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:06:00.3754432+07:00 80000071-0001-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T15:06:02.4735617+07:00 80000071-0001-f700-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T15:06:02.5950992+07:00 80000071-0001-f700-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "swaggerui", ClientName: "Swagger UI", GrantType: "password", Scopes: "quickapp_api", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("grant_type": "password"), ("username": "kreangkrai"), ("password": "***REDACTED***")] } (3a073258)
2020-10-15T15:06:29.8965469+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:06:29.9758274+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:20:20.0050088+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T15:20:20.0638596+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T15:20:20.5849449+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T15:20:20.5881717+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T15:20:20.5927379+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T15:20:50.7725249+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:20:50.8050233+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:21:20.8679446+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:21:20.8802024+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:21:50.9340700+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:21:50.9445246+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:22:20.9701494+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:22:20.9814998+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:22:51.0071653+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:22:51.0166502+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:23:18.1825425+07:00 80000021-0003-ec00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T15:23:19.5854516+07:00 80000023-0003-ec00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T15:23:19.6709993+07:00 8000006d-0002-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T15:23:20.6581639+07:00 8000006d-0002-f800-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T15:23:20.7430034+07:00 8000006d-0002-f800-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T15:23:21.0273902+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:23:21.0704285+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:23:29.8023592+07:00 8000002e-0002-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T15:23:30.0081242+07:00 8000002f-0002-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T15:23:51.1096902+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:23:51.1377287+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:24:21.1640620+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:24:21.1943646+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:24:51.2091113+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:24:51.2361565+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:25:21.2656453+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:25:21.2861530+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:25:51.3194015+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:25:51.3500864+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:26:21.3862058+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:26:21.4103567+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:26:51.4270878+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:26:51.4367957+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:27:21.4504391+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:27:21.4603360+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:27:51.4902380+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:27:51.5420833+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:28:21.5789724+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:28:21.6264612+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:28:51.6380854+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:28:51.6460189+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:29:21.6636210+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:29:21.6717749+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:29:51.6962577+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:29:51.7066056+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:30:21.7469240+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:30:21.7683008+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:30:51.7918478+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:30:51.8104304+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:31:21.8781459+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:31:21.8892546+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:31:51.8995899+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:31:51.9080294+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:32:21.9445199+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:32:21.9604267+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:56:15.0832096+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T15:56:15.1240438+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T15:56:15.4968640+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T15:56:15.5028174+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T15:56:15.5230764+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T15:56:45.5875179+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:56:45.6271934+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:57:15.6770191+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:57:15.6972022+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:57:45.7397522+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:57:45.7525421+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:58:26.2089573+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:58:26.2317943+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:59:00.8535365+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:59:00.9563390+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T15:59:32.2990409+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T15:59:32.3987005+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:00:04.0809998+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:00:04.1215156+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:00:36.2061419+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:00:36.2370334+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:01:18.1672853+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:01:19.2781477+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:01:49.3617058+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:01:49.3987347+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:02:19.4422255+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:02:19.4802658+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:02:55.9608947+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:02:56.0715101+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:03:26.1277203+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:03:26.1380850+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:03:56.1833356+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:03:56.2303330+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:04:26.8783367+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:04:26.9427423+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:04:57.4409519+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:04:57.4633763+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:05:28.9448809+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:05:28.9750991+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:06:00.4730763+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:06:00.4865577+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:06:30.5053406+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:06:30.5168375+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:07:00.5490490+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:07:00.5772657+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:07:30.6089696+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:07:30.6189124+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:08:00.6476395+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:08:00.6902130+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:08:38.4449550+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:08:38.4732477+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:08:51.6088753+07:00 8000000b-0001-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T16:09:11.4730003+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:09:11.5010193+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:09:43.5787148+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:09:43.6639158+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:09:44.4123359+07:00 80000063-0001-f500-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T16:09:44.6263573+07:00 80000040-0002-ff00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T16:09:46.9466430+07:00 80000040-0002-ff00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T16:09:47.1457947+07:00 80000040-0002-ff00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T16:10:27.7696918+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:10:27.8196914+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:11:30.4429135+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:11:50.5614490+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:12:25.0975015+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:12:25.1077997+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:14:35.0123317+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:14:48.4130890+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:20:59.0649787+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:20:59.1141418+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:27:00.9529223+07:00  [ERR] Failed executing DbCommand ("319,815"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `p`.`Key`, `p`.`ClientId`, `p`.`CreationTime`, `p`.`Data`, `p`.`Expiration`, `p`.`SubjectId`, `p`.`Type`
FROM `PersistedGrants` AS `p`
WHERE `p`.`Expiration` < UTC_TIMESTAMP()
ORDER BY `p`.`Key`
LIMIT @__p_0" (627a98df)
2020-10-15T16:27:04.0017138+07:00  [ERR] An exception occurred while iterating over the results of a query for context type '"IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: The read operation failed, see inner exception.
 ---> System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'SslStream'.
   at System.Net.Security.SslStream.ThrowIfExceptional()
   at System.Net.Security.SslStream.CheckThrow(Boolean authSuccessCheck, Boolean shutdownCheck)
   at System.Net.Security.SslStream.ReadAsyncInternal[TReadAdapter](TReadAdapter adapter, Memory`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ReadAsyncInternal[TReadAdapter](TReadAdapter adapter, Memory`1 buffer)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\StreamByteHandler.cs:line 91
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\StreamByteHandler.cs:line 91
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\BufferedByteReader.cs:line 36
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.<ReadPacketAsync>g__AddContinuation|1_0(ValueTask`1 headerBytes_, BufferedByteReader bufferedByteReader_, IByteHandler byteHandler_, Func`1 getNextSequenceNumber_, ProtocolErrorBehavior protocolErrorBehavior_, IOBehavior ioBehavior_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\ProtocolUtility.cs:line 413
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.<DoReadPayloadAsync>g__AddContinuation|5_0(ValueTask`1 readPacketTask_, BufferedByteReader bufferedByteReader_, IByteHandler byteHandler_, Func`1 getNextSequenceNumber_, ArraySegmentHolder`1 previousPayloads_, ProtocolErrorBehavior protocolErrorBehavior_, IOBehavior ioBehavior_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\ProtocolUtility.cs:line 484
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 775
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 49
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 116
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 391
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\CommandExecutor.cs:line 62
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: The read operation failed, see inner exception.
 ---> System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'SslStream'.
   at System.Net.Security.SslStream.ThrowIfExceptional()
   at System.Net.Security.SslStream.CheckThrow(Boolean authSuccessCheck, Boolean shutdownCheck)
   at System.Net.Security.SslStream.ReadAsyncInternal[TReadAdapter](TReadAdapter adapter, Memory`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ReadAsyncInternal[TReadAdapter](TReadAdapter adapter, Memory`1 buffer)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\StreamByteHandler.cs:line 91
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\StreamByteHandler.cs:line 91
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\BufferedByteReader.cs:line 36
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.<ReadPacketAsync>g__AddContinuation|1_0(ValueTask`1 headerBytes_, BufferedByteReader bufferedByteReader_, IByteHandler byteHandler_, Func`1 getNextSequenceNumber_, ProtocolErrorBehavior protocolErrorBehavior_, IOBehavior ioBehavior_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\ProtocolUtility.cs:line 413
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.<DoReadPayloadAsync>g__AddContinuation|5_0(ValueTask`1 readPacketTask_, BufferedByteReader bufferedByteReader_, IByteHandler byteHandler_, Func`1 getNextSequenceNumber_, ArraySegmentHolder`1 previousPayloads_, ProtocolErrorBehavior protocolErrorBehavior_, IOBehavior ioBehavior_) in C:\projects\mysqlconnector\src\MySqlConnector\Protocol\Serialization\ProtocolUtility.cs:line 484
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ServerSession.cs:line 775
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 49
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet() in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 116
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 391
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\CommandExecutor.cs:line 62
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.TokenCleanupService.RemoveGrantsAsync()
   at IdentityServer4.EntityFramework.TokenCleanupService.RemoveExpiredGrantsAsync()
2020-10-15T16:27:04.0217725+07:00  [ERR] Exception removing expired grants: "An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call." (79474a77)
2020-10-15T16:27:38.8061667+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:27:40.1050853+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:28:34.3807725+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:28:34.3891914+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:29:04.4190586+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:29:04.4367359+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:29:34.5714491+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:29:34.5814020+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:30:04.7297617+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:30:04.7387722+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:30:41.5599416+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:30:41.5925892+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:31:16.8022131+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:31:16.8458171+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:31:48.2154054+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:31:48.2417803+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:32:21.4574191+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:32:21.5022065+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:32:51.6427392+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:32:51.6609889+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:33:21.6961554+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:33:21.7181925+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:35:27.9235875+07:00  [INF] Starting IdentityServer4 version "3.1.3.0" (8add0571)
2020-10-15T16:35:27.9692616+07:00  [INF] Using the default authentication scheme "Identity.Application" for IdentityServer (4a54f457)
2020-10-15T16:35:28.3323642+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-10-15T16:35:28.3352771+07:00  [INF] Hosting environment: "Development" (c3307c92)
2020-10-15T16:35:28.3381140+07:00  [INF] Content root path: "D:\CmsApp\CmsApp" (b5d60022)
2020-10-15T16:35:58.2343643+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:35:58.2594267+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:36:28.2957634+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:36:28.3037293+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:36:58.3522775+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:36:58.3783067+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:37:28.4092038+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:37:28.4374605+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:37:58.4784440+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:37:58.4893279+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:38:26.7631902+07:00 80000021-0001-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T16:38:27.6687572+07:00 80000021-0003-ee00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T16:38:27.7303691+07:00 80000041-0002-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T16:38:28.5157088+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:38:28.5293915+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:38:28.6661685+07:00 80000041-0002-f700-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T16:38:28.7404164+07:00 80000041-0002-f700-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T16:38:38.2078567+07:00 80000045-0002-f700-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T16:38:38.2719519+07:00 80000023-0001-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T16:38:38.2880127+07:00 80000025-0003-ee00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T16:38:38.4742840+07:00 80000025-0003-ee00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T16:38:38.4785906+07:00 80000025-0003-ee00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T16:38:58.5756082+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:38:58.5880656+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:39:09.3997482+07:00 8000003f-0000-fc00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T16:39:09.4892603+07:00 80000040-0000-fc00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T16:39:19.8629956+07:00 8000002d-0001-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T16:39:19.9223661+07:00 80000070-0003-ef00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T16:39:19.9601076+07:00 8000002f-0001-f800-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T16:39:20.1124121+07:00 8000002f-0001-f800-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T16:39:20.1172826+07:00 8000002f-0001-f800-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T16:39:28.5998230+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:39:28.6103709+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:39:58.6414637+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:39:58.6520167+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:40:25.2175481+07:00 80000014-0000-fa00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2020-10-15T16:40:25.2865189+07:00 80000034-0002-fb00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2020-10-15T16:40:25.3149473+07:00 80000016-0000-fa00-b63f-84710c7967bb [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token" (f7642de5)
2020-10-15T16:40:25.5397514+07:00 80000016-0000-fa00-b63f-84710c7967bb [INF] Credentials validated for username: "kreangkrai" (cb811aa7)
2020-10-15T16:40:25.5492815+07:00 80000016-0000-fa00-b63f-84710c7967bb [INF] Token request validation success, TokenRequestValidationLog { ClientId: "quickapp_spa", ClientName: null, GrantType: "password", Scopes: "email offline_access openid phone profile quickapp_api roles", AuthorizationCode: null, RefreshToken: null, UserName: "kreangkrai", AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("username": "kreangkrai"), ("password": "***REDACTED***"), ("client_id": "quickapp_spa"), ("grant_type": "password"), ("scope": "openid email phone profile offline_access roles quickapp_api")] } (3a073258)
2020-10-15T16:40:28.6674770+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:40:28.6821849+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:40:58.7126507+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:40:58.7236663+07:00  [INF] Removing 0 device flow codes (171ba47d)
2020-10-15T16:41:28.7713215+07:00  [INF] Removing 0 grants (62cd9308)
2020-10-15T16:41:28.7798083+07:00  [INF] Removing 0 device flow codes (171ba47d)
